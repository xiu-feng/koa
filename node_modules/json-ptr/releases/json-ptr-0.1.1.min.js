!function(e){"use strict";var r,t,n=[];if(typeof global==="object"&&global){r=global;t=global.JsonPointer}else if(typeof window!=="undefined"){r=window;t=window.JsonPointer}else{r={}}if(t){n.push(function(){if(r.JsonPointer===h){r.JsonPointer=t;t=e}})}function i(e){if(typeof e!=="string"){throw new TypeError("Invalid type: JSON Pointers are represented as strings.")}if(e.length===0){return[]}if(e[0]!=="/"){throw new ReferenceError("Invalid JSON Pointer syntax. Non-empty pointer must begin with a solidus `/`.")}var r=e.substring(1).split("/"),t=-1,n=r.length;while(++t<n){r[t]=r[t].replace("~1","/").replace("~0","~")}return r}function o(e){if(e&&!Array.isArray(e)){throw new TypeError("Invalid type: path must be an array of segments.")}if(e.length===0){return""}var r=[],t=-1,n=e.length;while(++t<n){r.push(e[t].replace("~","~0").replace("/","~1"))}return"/".concat(r.join("/"))}function f(e){if(typeof e!=="string"){throw new TypeError("Invalid type: JSON Pointers are represented as strings.")}if(e.length===0||e[0]!=="#"){throw new ReferenceError("Invalid JSON Pointer syntax; URI fragment idetifiers must begin with a hash.")}if(e.length===1){return[]}if(e[1]!=="/"){throw new ReferenceError("Invalid JSON Pointer syntax.")}var r=e.substring(2).split("/"),t=-1,n=r.length;while(++t<n){r[t]=decodeURIComponent(r[t]).replace("~1","/").replace("~0","~")}return r}function s(e){if(e&&!Array.isArray(e)){throw new TypeError("Invalid type: path must be an array of segments.")}if(e.length===0){return"#"}var r=[],t=-1,n=e.length;while(++t<n){r.push(encodeURIComponent(e[t].replace("~","~0").replace("/","~1")))}return"#/".concat(r.join("/"))}function a(e,r){var t=r.length,n=0;if(t===0||t>1&&r[0]==="0"){return-1}if(t===1&&r[0]==="-"){return e.length}while(++n<t){if(r[n]<"0"||r[n]>"9"){return-1}}return parseInt(r,10)}function u(e,r){if(typeof e!=="undefined"){var t=e,n=r.length,i=-1,o,f;if(n){while(++i<n&&t){o=r[i];if(Array.isArray(t)){if(isNaN(o)){return}f=a(t,o);if(t.length>f){t=t[f]}else{return}}else{t=t[o]}}return t}else{return e}}}function l(r,t,n,i){if(n.length===0){throw new Error("Cannot set the root object; assign it directly.")}if(typeof r!=="undefined"){var o=r,f=n.length,s=n.length-1,u=-1,l,h,p;if(f){while(++u<f){l=n[u];if(Array.isArray(o)){h=a(o,l);if(o.length>h){if(u===s){p=o[h];o[h]=t;return p}o=o[h]}else if(o.length===h){o.push(t);return e}else{throw new ReferenceError("Not found: ".concat(i(n.slice(0,u+1),true),"."))}}else{if(u===s){p=o[l];o[l]=t;return p}o=o[l];if(typeof o==="undefined"){throw new ReferenceError("Not found: ".concat(i(n.slice(0,u+1),true),"."))}}}if(u===f){return o}}else{return o}}}function h(e){this.encode=e.length>0&&e[0]==="#"?s:o;if(Array.isArray(e)){this.path=e}else{var r=e.length>0&&e[0]==="#"?f:i;this.path=r(e)}}Object.defineProperty(h.prototype,"pointer",{enumerable:true,get:function(){return o(this.path)}});Object.defineProperty(h.prototype,"uriFragmentIdentifier",{enumerable:true,get:function(){return s(this.path)}});h.prototype.get=function(e){return u(e,this.path)};h.prototype.set=function(e,r){return l(e,r,this.path,this.encode)};h.prototype.toString=function(){return this.pointer};h.create=function(e){return new h(e)};h.get=function(e,r){var t=r.length>0&&r[0]==="#"?f:i;return u(e,t(r))};h.set=function(e,r,t){var n=r.length>0&&r[0]==="#"?s:o;var a=r.length>0&&r[0]==="#"?f:i;return l(e,t,a(r),n)};h.decodePointer=i;h.encodePointer=o;h.decodeUriFragmentIdentifier=f;h.encodeUriFragmentIdentifier=s;h.noConflict=function(){if(n){n.forEach(function(e){e()});n=null}return h};if(typeof module!=="undefined"&&module&&typeof exports==="object"&&exports&&module.exports===exports){module.exports=h}else{r.JsonPointer=h}}();